# 游戏抢单系统 - 正式版发布说明

## 版本信息
- **文件名**: 游戏抢单系统正式版.exe
- **文件大小**: ~45.7 MB
- **打包日期**: 2025-11-25
- **打包工具**: PyInstaller 6.17.0
- **Python版本**: 3.12.7

## 新增功能

### 🎯 可配置的目标价格百分比
- **配置项**: `target_price_percentage`
- **取值范围**: 10% - 100%
- **默认值**: 70%
- **功能说明**: 当前价格低于或等于加入价格的配置百分比时触发抢单

### ⚙️ 配置方式
1. **GUI界面配置**
   - 在配置区域找到"目标价百分比"输入框
   - 设置10-100之间的百分比值
   - 自动保存到配置文件

2. **配置文件**
   - 位置: `config.json`
   - 字段: `target_price_percentage`
   - 示例:
   ```json
   {
     "request_interval": 3,
     "notification_email": "",
     "target_price_percentage": 70
   }
   ```

### 📊 抢单逻辑
系统支持两种抢单触发条件（满足任一即可）:

1. **自定义目标价格**
   - 在添加游戏到抢单列表时，可设置具体的目标价格
   - 当前价 ≤ 目标价时触发抢单

2. **百分比规则**
   - 当未设置自定义目标价格时使用
   - 当前价 ≤ 加入价 × 百分比时触发抢单
   - 例如: 加入价¥100，设置70%，则当前价≤¥70时触发

## 使用说明

### 首次运行
1. 双击 `游戏抢单系统正式版.exe` 启动程序
2. 如果被杀毒软件拦截，请添加到信任列表
3. 配置文件会自动生成在用户目录的 `.game_order_grabber` 文件夹

### 配置步骤
1. **设置请求间隔**: 建议3-10秒，防止被封号
2. **设置目标价百分比**: 根据需求设置10-100%，默认70%
3. **配置邮件通知** (可选): 填写邮箱地址以接收抢单成功通知
4. **保存配置**: 点击"保存配置"按钮

### 抢单流程
1. **搜索游戏**: 在搜索框输入游戏名，点击"搜索"
2. **添加到列表**: 选择游戏，可设置自定义目标价格，点击"加入抢单列表"
3. **开始抢单**: 点击游戏卡片上的"开始抢单"按钮
4. **监控状态**: 实时查看当前最低价和抢单状态
5. **自动抢单**: 当价格满足条件时自动抢单

## 技术细节

### 价格判断逻辑更新
- 从硬编码的70%改为可配置
- 判断条件从 `<` 改为 `≤`，更符合"低于或等于"的语义
- 实时显示配置的百分比阈值

### 日志增强
- 显示实际使用的百分比
- 清晰显示价格比较过程
- 触发抢单时显示具体原因

### 配置验证
- 自动限制百分比在10-100范围内
- 配置文件格式验证
- 默认值保护

## 注意事项

⚠️ **重要提示**:
- 请求间隔不要设置过小，建议≥3秒
- 百分比设置越低，触发抢单的概率越小
- 百分比设置越高，可能抢到的价格越高
- 建议根据实际需求灵活调整百分比

## 故障排除

### 程序无法启动
- 检查是否被杀毒软件拦截
- 确保有网络连接
- 查看配置文件是否损坏

### 抢单不触发
- 检查目标价百分比设置是否合理
- 查看日志中的价格比较信息
- 确认当前价格是否真的满足条件

### 配置无法保存
- 检查程序是否有写入权限
- 查看用户目录是否正常
- 尝试手动编辑配置文件

## 更新历史

### v1.1.0 (2025-11-25)
- ✨ 新增可配置的目标价格百分比功能
- 🔧 修复价格判断逻辑
- 📝 更新配置文档
- 🎨 优化UI提示信息

### v1.0.0
- 🎉 初始版本发布
- 基础抢单功能
- 邮件通知功能
- GUI界面

## 技术支持

如遇问题，请检查:
1. 日志输出信息
2. 配置文件格式
3. 网络连接状态
4. 系统权限设置
